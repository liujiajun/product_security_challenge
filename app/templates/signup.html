<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login Form</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="static/main.css">
</head>

<body>
<div class="login-form">
    <form action="" method="post">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        <h2 class="text-center">Sign up</h2>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="alert alert-danger" role="alert">
                    {{ messages[0] }}.
                </div>
            {% endif %}
        {% endwith %}
        <div class="form-group">
            <input
                    name='username'
                    id='username'
                    type="text"
                    class="form-control"
                    placeholder="Username"
                    required="required"
                    pattern="[a-z0-9]+"
            >

        </div>
        <div class="form-group">
            <input
                    name='password'
                    id='password'
                    type="password"
                    class="form-control"
                    placeholder="Password"
                    required="required"
                    pattern="^(?=.*?[A-Z])(?=(.*[a-z]){1,})(?=(.*[\d]){1,})(?=(.*[\W]){1,})(?!.*\s).{8,}$"
            >
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary btn-block">Sign up</button>
        </div>
    </form>
</div>
</body>
<footer>
    <script>
        const usernameInput = document.getElementById('username');
        usernameInput.oninvalid = function (event) {
            event.target.setCustomValidity('Username should only contain a-z, 0-9.');
        }
        usernameInput.oninput = function (event) {
            event.target.setCustomValidity('');
        }

        const passwordInput = document.getElementById('password');
        passwordInput.oninvalid = function (event) {
            event.target.setCustomValidity('Password should have no less than 8 characters, and contain at least one of each: a) lower case letter b) upper case letters c) number d) special characters');
        }
        passwordInput.oninput = function (event) {
            event.target.setCustomValidity('');
        }
    </script>
</footer>
</html>
